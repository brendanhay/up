<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>sup.erl</title>
  <link rel="stylesheet" href="pycco.css">
</head>
<body>
<div id='container'>
  <div id="background"></div>
  
  <table cellspacing=0 cellpadding=0>
  <thead>
    <tr>
      <th class=docs><h1>sup.erl</h1></th>
      <th class=code></th>
    </tr>
  </thead>
  <tbody>
    <tr id='section-0'>
      <td class=docs>
        <div class="octowrap">
          <a class="octothorpe" href="#section-0">#</a>
        </div>
        <p>Root of the supervision tree which manages:</p>
<ul>
<li><a href="logger.html">logger.erl</a> - Asynchronous logging</li>
<li><a href="dispatcher.html">dispatcher.erl</a> - HTTP dispatching</li>
<li><a href="uploader.html">uploader.erl</a> - Upload progress</li>
</ul>
      </td>
      <td class=code>
        <div class='highlight'><pre><div class="highlight"><pre><span class="p">-</span><span class="ni">module</span><span class="p">(</span><span class="n">sup</span><span class="p">).</span>

<span class="p">-</span><span class="ni">behaviour</span><span class="p">(</span><span class="n">supervisor</span><span class="p">).</span>

<span class="p">-</span><span class="ni">export</span><span class="p">([</span><span class="n">start</span><span class="o">/</span><span class="mi">0</span><span class="p">,</span> <span class="n">init</span><span class="o">/</span><span class="mi">1</span><span class="p">]).</span></pre></div></pre></div>
      </td>
    </tr><tr id='section-1'>
      <td class=docs>
        <div class="octowrap">
          <a class="octothorpe" href="#section-1">#</a>
        </div>
        <h4>Starting:</h4>
<p>Call the OTP <code>supervisor</code> behaviour which calls back to <code>init/1</code> with no arguments
to start the supervision tree.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><div class="highlight"><pre><span class="nf">start</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nn">supervisor</span><span class="p">:</span><span class="n">start_link</span><span class="p">({</span><span class="n">local</span><span class="p">,</span> <span class="o">?</span><span class="nv">MODULE</span><span class="p">},</span> <span class="o">?</span><span class="nv">MODULE</span><span class="p">,</span> <span class="p">[]).</span>

<span class="nf">init</span><span class="p">([])</span> <span class="o">-&gt;</span>
    <span class="nv">Config</span> <span class="o">=</span> <span class="p">[{</span><span class="n">ip</span><span class="p">,</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">}},</span> <span class="p">{</span><span class="n">port</span><span class="p">,</span> <span class="mi">8080</span><span class="p">}],</span>
    <span class="nv">Specs</span> <span class="o">=</span> <span class="p">[</span><span class="n">spec</span><span class="p">(</span><span class="n">logger</span><span class="p">),</span> <span class="n">spec</span><span class="p">(</span><span class="n">dispatcher</span><span class="p">,</span> <span class="p">[</span><span class="nv">Config</span><span class="p">],</span> <span class="mi">5000</span><span class="p">,</span> <span class="n">dynamic</span><span class="p">),</span> <span class="n">spec</span><span class="p">(</span><span class="n">uploader</span><span class="p">)],</span>
    <span class="nv">Strategy</span> <span class="o">=</span> <span class="p">{</span><span class="n">one_for_one</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">},</span>
    <span class="p">{</span><span class="n">ok</span><span class="p">,</span> <span class="p">{</span><span class="nv">Strategy</span><span class="p">,</span> <span class="nv">Specs</span><span class="p">}}.</span></pre></div></pre></div>
      </td>
    </tr><tr id='section-2'>
      <td class=docs>
        <div class="octowrap">
          <a class="octothorpe" href="#section-2">#</a>
        </div>
        <p>Shorthand for generating supervision child' specs.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><div class="highlight"><pre><span class="nf">spec</span><span class="p">(</span><span class="nv">Mod</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">spec</span><span class="p">(</span><span class="nv">Mod</span><span class="p">,</span> <span class="p">[],</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="nv">Mod</span><span class="p">]).</span>

<span class="nf">spec</span><span class="p">(</span><span class="nv">Mod</span><span class="p">,</span> <span class="nv">Args</span><span class="p">,</span> <span class="nv">Restart</span><span class="p">,</span> <span class="nv">Mods</span><span class="p">)</span> <span class="o">-&gt;</span> 
    <span class="p">{</span><span class="nv">Mod</span><span class="p">,</span> <span class="p">{</span><span class="nv">Mod</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="nv">Args</span><span class="p">},</span> <span class="n">permanent</span><span class="p">,</span> <span class="nv">Restart</span><span class="p">,</span> <span class="n">worker</span><span class="p">,</span> <span class="nv">Mods</span><span class="p">}.</span>
    

</pre></div></pre></div>
      </td>
    </tr>
  </table>
</div>
</body>
